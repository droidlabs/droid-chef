# check process mysqld with pidfile /var/run/mysqld/mysqld.pid
# 	group mysql
# 	start program = "/etc/init.d/mysqld start"
# 	stop program = "/etc/init.d/mysqld stop"
# 	if failed host 127.0.0.1 port <%= node['mysql']['port'] %> then restart
# 	if 5 restarts within 5 cycles then timeout


check process mysql with pidfile /var/run/mysqld/mysql.pid
   group database
   start program = "/etc/init.d/mysql start"
   stop program = "/etc/init.d/mysql stop"
   if failed host 127.0.0.1 port <%= node['mysql']['port'] %> protocol mysql then restart
   if 5 restarts within 5 cycles then timeout
   depends on mysql_bin
   depends on mysql_rc

 check file mysql_bin with path /opt/mysql/bin/mysqld
   group database
   if failed checksum then unmonitor
   if failed permission 755 then unmonitor
   if failed uid root then unmonitor
   if failed gid root then unmonitor

 check file mysql_rc with path /etc/init.d/mysql
   group database
   if failed checksum then unmonitor
   if failed permission 755 then unmonitor
   if failed uid root then unmonitor
   if failed gid root then unmonitor